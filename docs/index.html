<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>DealBench</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* Basic Reset */
    *{margin:0;padding:0;box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,'Noto Sans',sans-serif;}
    body{color:#1a1a1a;background:#fafafa;line-height:1.6;}
    a{color:inherit;text-decoration:none;}
    header{background:#000;color:#fff;padding:1rem 2rem;display:flex;align-items:center;justify-content:space-between;}
    nav a{margin-left:1.5rem;font-weight:500;opacity:.9;}
    nav a:hover{opacity:1;}
    .btn{display:inline-block;background:#ffb400;color:#000;padding:.75rem 1.5rem;border-radius:6px;font-weight:600;margin-top:1.5rem;}
    .hero{padding:4rem 2rem;text-align:center;background:url('DealCardsBackground.png') center / cover no-repeat;}
    .hero h1{font-size:clamp(2.25rem,6vw,4rem);font-weight:800;margin-bottom:1rem;}
    .hero p{font-size:clamp(1rem,2.5vw,1.25rem);max-width:720px;margin:0 auto;}
    .stats{display:flex;justify-content:center;gap:2rem;margin:3rem 0;}
    .stat{background:#fff;border-radius:8px;padding:1.5rem 2rem;box-shadow:0 2px 6px rgba(0,0,0,.05);text-align:center;min-width:140px;}
    .stat .value{font-size:2rem;font-weight:700;}
    .section-title{font-size:1.75rem;font-weight:700;text-align:center;margin:3rem 0 1.5rem;}
    table{width:100%;min-width:600px;border-collapse:collapse;margin-bottom:4rem;}
    th,td{padding:.75rem;border-bottom:1px solid #e5e5e5;text-align:center;font-size:.95rem;white-space:nowrap;}
    th{background:#f3f3f3;font-weight:600;}
    tbody tr:hover{background:#f9f9f9;}
    .table-wrap{max-width:720px;width:100%;margin:0 auto;padding:0 1rem;overflow-x:auto;}
    footer{background:#000;color:#fff;padding:1.5rem;text-align:center;font-size:.875rem;}
    @media(max-width:600px){
      .stats{flex-direction:column;align-items:center;}
      nav a{margin-left:1rem;}
    }
  </style>
</head> 
<body>
  <header>
    <div class="logo"><strong>DealBench</strong></div>
    <nav>
      <a href="#about">About</a>
      <a href="https://github.com/Ads97/DealBench">Github</a>
      <!-- additional links -->
    </nav>
  </header>

  <section class="hero">
    <h1>LLMs make Deals</h1>
    <p>Testing frontier LLMs in a game similar to Monopoly Deal<sup>*</sup>.</p>
    <!-- <p><span style="font-size: 0.7em; color: #666;">Open-source research preview, non-commercial use only</span></p> -->
    <a class="btn" href="https://github.com/Ads97/DealBench">Github</a>
  </section>

  <!-- <section class="stats" id="stats">
    <div class="stat"><div class="value" id="match-count">1,234</div><div>Total Matches</div></div>
    <div class="stat"><div class="value" id="model-count">35</div><div>Models Competing</div></div>
    <div class="stat"><div class="value" id="top-score">4</div><div>Top Score</div></div>
  </section> -->

  <h2 class="section-title">Leaderboard</h2>
  <div class="table-wrap">
    <table id="leaderboard">
      <thead>
        <tr>
          <th>Rank</th>
          <th>Model</th>
          <th>Provider</th>
          <th>W / L</th>
          <th>ELO</th>
        </tr>
      </thead>
      <tbody>
        <!-- rows inserted by JS -->
      </tbody>
    </table>
  </div>

  <section id="about" style="padding:0 2rem 4rem;max-width:720px;margin:0 auto;">
    <h2 class="section-title" style="margin-top:0;">About DealBench</h2>
    <p>DealBench is an AI evaluation benchmark that pits large language models against each other in Monopoly&nbsp;Deal-style card games. 
    
    <hr style="border:0;border-top:1px solid #ddd;margin:2rem 0;">

    <h3>Why a game like Monopoly Deal<sup>*</sup>?</h3>
    A game like Deal tests long term strategy as well as improvisation ability in players. Deal often has large swings in player momentum between user turns. Therefore, winning requires models to plan carefully and have the situational awareness to adapt. This long term planning with adjustments is a good simulation of the real world, and is a unique challenge compared to static long term planning benchmarks such as SWE-bench or Web-Arena. Games in general are also more robust to overfitting due to the large number of possible rollouts.</p>

    <hr style="border:0;border-top:1px solid #ddd;margin:2rem 0;">

    <h3>Key Observations</h3>
    <ol>
      <li><b>Claude Sonnet 4</b>'s low performance is primarily because it makes a lot of incorrect moves - for example, it kept trying to collect rent using the opponent's properties, instead of its own. Anthropic's lack of support for enforced structured outputs might also be hurting its performance. </li>
      <li>Open source models like <b>Deepseek-r1</b> and <b>Qwen3-235b</b> also struggled with the rules and output format. Deepseek stops emitting reasoning if structured outputs is enabled - resulting in poor quality valid moves. </li>
      <li><b>Qwen3</b> thought for <b>17k tokens</b> (!) on the first turn before erroring out. In general, extremely long reasoning traces made the model quite slow and difficult to use reliably</li>
      <li>All the models use a really <b>large number of turns (15-30)</b> to win. A standard game between humans would conclude within 10 turns. This might indicate that the models are far from human level of play (future work)</li>
    </ol>

    <hr style="border:0;border-top:1px solid #ddd;margin:2rem 0;">

    <h3>Method</h3>
    <ul>
      <li>All games are 2 player matches. In each turn, the LLM can play up to 3 actions. Each action is one prompt-response pair.</li>
      <li>The LLM is provided with the rules in the system prompt. Its also provided with the game history (list of actions done so far), current game state, its hand+properties+bank cards, as well as the opponent's property+bank cards in the user prompt. Its also provided with an example of the output format for every action it can do. All responses are expected to be JSON.</li>
      <li>All LLM actions are rigorously validated using game rules. If the LLM breaks a rule, it can try again. 3 retries are allowed before the LLM's turn is skipped due to a lack of valid moves</li>
      <li>If the LLM has a just say no card in its hand, it is asked if it would like to use it whenever an opponent takes an action against it</li>
      <li>In case the LLM has more than 7 cards in hand at the end of its turn, it is asked to choose which cards it would like to discard</li>
      <li>When paying money for rent (or any other purpose), the LLM can choose which money/property cards to use</li>
    </ul>

    <hr style="border:0;border-top:1px solid #ddd;margin:2rem 0;">

    <h3>Future Work</h3>
    <ul>
      <li>Humans vs LLMs</li>
      <li>Multiplayer (> 2) testing</li>
    </ul>

    <hr style="border:0;border-top:1px solid #ddd;margin:2rem 0;">

    <h3>Example prompts</h3>
    <p>Here an example of the <a href="https://github.com/Ads97/DealBench/blob/main/dealbench/prompts/game_rules.j2" style="color: blue; text-decoration: underline;">system prompt</a> and a <a href="https://github.com/Ads97/DealBench/blob/main/dealbench/prompts/sample_rendered_action_prompt.md" style="color: blue; text-decoration: underline;">sample user prompt</a></p>

    <hr style="border:0;border-top:1px solid #ddd;margin:2rem 0;">
    <sub>*This project implements a simulation based on the publicly known rules of Monopoly Deal. Monopoly Deal and Monopoly are registered trademarks of Hasbro, Inc. This project is not affiliated with, endorsed by, or associated with Hasbro in any way.</sub>
  </section>

  <footer>
    Built with ❤️&nbsp;for the open‑source community. Not affiliated with Hasbro.<br>
    © <span id="year"></span> DealBench
  </footer>

  <script>
    // Placeholder leaderboard data (static)
    const leaderboardData = [
      {rank: 1, model: 'gemini-2.5-pro', provider: 'Google', wins: 15, losses: 8, games: 23, winRate: '65.2%', elo: 1082},
      {rank: 2, model: 'o4-mini', provider: 'OpenAI', wins: 14, losses: 6, games: 20, winRate: '70.0%', elo: 1067},
      {rank: 3, model: 'o3', provider: 'OpenAI', wins: 10, losses: 11, games: 21, winRate: '47.6%', elo: 974},
      {rank: 4, model: 'claude-4-sonnet', provider: 'Anthropic', wins: 9, losses: 16, games: 25, winRate: '36.0%', elo: 954},
      {rank: 5, model: 'Random Move Bot', provider: '-', wins: 8, losses: 15, games: 23, winRate: '34.8%', elo: 924},
    ];

    function renderLeaderboard() {
      const tbody = document.querySelector('#leaderboard tbody');
      leaderboardData.forEach(row => {
        const tr = document.createElement('tr');
        tr.innerHTML = `
          <td>#${row.rank}</td>
          <td>${row.model}</td>
          <td>${row.provider}</td>
          <td>${row.wins}/${row.losses}</td>
          <td>${row.elo}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    document.getElementById('year').textContent = new Date().getFullYear();
    renderLeaderboard();
  </script>
</body>
</html>
